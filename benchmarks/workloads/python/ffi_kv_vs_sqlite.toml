# Python FFI KV vs SQLite Benchmark Workload
# Tests ToonDB Python SDK KV performance against SQLite

[workload]
name = "ffi_kv_vs_sqlite"
description = "Measures ToonDB Python FFI KV operations vs SQLite"
runner = "python"
script = "benchmark_ffi.py"

[params]
# Number of records
n = 100000
# Value template
value_template = "json_user"
# SQLite settings
sqlite_journal_mode = "WAL"
sqlite_synchronous = "NORMAL"
# Number of timed iterations
timed_iterations = 3

[metrics]
collect = [
    "toondb_insert_ops_per_s",
    "sqlite_insert_ops_per_s",
    "toondb_scan_rows_per_s", 
    "sqlite_scan_rows_per_s",
    "insert_speedup",
    "scan_speedup"
]

[thresholds]
toondb_insert_ops_per_s = { threshold = 5.0, better = "higher" }
sqlite_insert_ops_per_s = { threshold = 5.0, better = "higher" }
toondb_scan_rows_per_s = { threshold = 5.0, better = "higher" }
sqlite_scan_rows_per_s = { threshold = 5.0, better = "higher" }
insert_speedup = { threshold = 10.0, better = "higher" }
scan_speedup = { threshold = 10.0, better = "higher" }

workload:
  name: agent_memory
  description: "Agent memory retrieval - semantic similarity with recency bias"

data_model:
  schema:
    - name: embedding
      type: vector
      dimension: 128
    - name: timestamp
      type: timestamp
    - name: agent_id
      type: uint64
    - name: topic_tags
      type: stringarray
    - name: importance
      type: float32
    - name: text_len
      type: uint32

query_patterns:
  - type: vector_search
    top_k: [10, 20]
    filters:
      - field: agent_id
        op: eq
      - field: importance
        op: gte
        optional: true
    time_decay: true

datasets:
  small:
    agents: 100
    memories_per_agent: 1000
    total: 100000
    seed: 42
  medium:
    agents: 10000
    memories_per_agent: 500
    total: 5000000
    seed: 42
  large:
    agents: 100000
    memories_per_agent: 500
    total: 50000000
    seed: 42

queries:
  count: 5000
  include_near_duplicates: true
  include_topic_shifts: true
  seed: 12345

quality_metrics:
  - recall@10
  - recall@20

perf_targets:
  p95_latency_ms: 10.0
  min_qps: 5000.0

concurrency:
  levels: [1, 4, 16, 64]

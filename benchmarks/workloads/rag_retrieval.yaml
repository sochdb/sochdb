workload:
  name: rag_retrieval
  description: "RAG chunk retrieval with metadata filters"

data_model:
  schema:
    - name: embedding
      type: vector
      dimension: 768
    - name: doc_id
      type: uint64
    - name: chunk_id
      type: uint64
    - name: source
      type: string
    - name: language
      type: string
    - name: access_level
      type: uint64
    - name: created_at
      type: timestamp

query_patterns:
  - type: vector_search
    top_k: [10, 20, 50]
    filters:
      - field: language
        op: eq
      - field: access_level
        op: lte
      - field: source
        op: in
        optional: true

filter_selectivity:
  tight:
    min: 0.01
    max: 0.05
  broad:
    min: 0.30
    max: 0.60

datasets:
  small:
    chunks: 200000
    seed: 42
  medium:
    chunks: 5000000
    seed: 42
  large:
    chunks: 10000000
    seed: 42

queries:
  count: 10000
  stratified_by_selectivity: true
  ood_queries_percent: 10.0
  seed: 12345

quality_metrics:
  - recall@10
  - recall@20
  - ndcg@10

perf_targets:
  p95_latency_ms: 15.0
  min_qps: 3000.0

concurrency:
  levels: [1, 4, 16, 64]
